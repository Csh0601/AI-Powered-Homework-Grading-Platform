# 🎓 同学使用指南 - 同一教室快速配置

## 📋 场景说明
你和你的同学在同一间教室里，他想使用这个项目。

---

## ✅ 方案一：自动配置（推荐，99%情况可用）

### 你的同学需要做的：

### 1️⃣ 克隆项目
```bash
# 如果项目在GitHub/Gitee
git clone <项目地址>

# 或者直接复制你的项目文件夹
```

### 2️⃣ 安装依赖
```bash
# 安装后端依赖
cd llmhomework_Backend
pip install -r requirements.txt

# 安装前端依赖
cd ../llmhomework_Frontend
npm install
```

### 3️⃣ 获取你的电脑IP
**在你的电脑上**运行（不是你同学的电脑）：
```bash
获取当前IP.bat
```

记下显示的IP地址，例如：`172.28.140.34`

### 4️⃣ 启动后端（在你的电脑上）
```bash
# 在项目根目录
start_backends.bat
```

### 5️⃣ 在同学的电脑上启动前端
```bash
cd llmhomework_Frontend
npm start
```

**就这么简单！** 系统会自动检测并连接到你的电脑后端。

---

## 🔧 方案二：手动配置（仅在自动检测失败时使用）

如果自动检测失败（很少见），你的同学需要修改：

### 📁 文件位置
```
llmhomework_Frontend/app/config/api.ts
```

### 📝 修改位置

找到第 **93-106** 行左右的这段代码：

```typescript
// 🔄 动态IP配置 - 自动适配校园网环境
// 系统会自动尝试所有校园网段的IP，无需手动修改
const NETWORK_PRESETS = [
  // 当前会话检测到的IP会自动添加到最前面
  // 以下是常见的校园网IP段，系统会自动遍历尝试
  'http://172.28.140.34:5000',     // 历史IP (2025-10-10)
  'http://172.29.15.82:5000',      // 校园网段A
  'http://172.19.168.76:5000',     // 校园网段B
  // ... 其他IP
];
```

### ✏️ 修改方法

**将你的电脑IP添加到最前面**：

```typescript
const NETWORK_PRESETS = [
  'http://你的IP:5000',              // 👈 添加这一行，替换为你的实际IP
  'http://172.28.140.34:5000',     // 历史IP (2025-10-10)
  'http://172.29.15.82:5000',      // 校园网段A
  'http://172.19.168.76:5000',     // 校园网段B
  // ... 其他IP
];
```

**举例**：如果你的IP是 `172.28.155.88`，修改为：

```typescript
const NETWORK_PRESETS = [
  'http://172.28.155.88:5000',     // 👈 你的电脑IP
  'http://172.28.140.34:5000',     
  'http://172.29.15.82:5000',      
  // ... 其他IP
];
```

### 💾 保存并重启
1. 保存文件（Ctrl+S）
2. 停止前端（Ctrl+C）
3. 重新启动前端（`npm start`）

---

## 🔍 如何获取你的电脑IP

### Windows系统
```bash
# 方法1：运行脚本
获取当前IP.bat

# 方法2：命令行
ipconfig
```

在输出中找到类似这样的：
```
以太网适配器 以太网:
   IPv4 地址 . . . . . . . . . . . . : 172.28.140.34  👈 就是这个
```

### Mac/Linux系统
```bash
ifconfig
# 或
ip addr show
```

---

## ⚠️ 重要检查清单

在你的电脑上确保：

- [ ] **后端已启动**
  ```bash
  start_backends.bat
  ```
  
- [ ] **防火墙已配置**（允许端口5000）
  ```bash
  # Windows快速命令（管理员权限）
  netsh advfirewall firewall add rule name="LLM Homework Backend" dir=in action=allow protocol=TCP localport=5000
  ```

- [ ] **在同一网络**
  - 同一个校园网WiFi
  - 或者同一个有线网络
  - 可以通过ping命令测试：
    ```bash
    # 在同学电脑上ping你的IP
    ping 172.28.140.34
    ```

---

## 🧪 测试连接

### 在同学的电脑浏览器中测试：
```
http://你的IP:5000/status
```

例如：
```
http://172.28.140.34:5000/status
```

**看到这个说明连接成功**：
```json
{
  "status": "online",
  "message": "Backend is running"
}
```

---

## 🚨 常见问题

### 问题1：连接超时 / Network Error

**原因**：防火墙阻止或不在同一网络

**解决方法**：
```bash
# 1. 确认你的后端已启动
# 在你的电脑上运行：
获取当前IP.bat

# 2. 配置防火墙（在你的电脑上）
netsh advfirewall firewall add rule name="LLM Homework Backend" dir=in action=allow protocol=TCP localport=5000

# 3. 测试连接（在同学电脑上）
ping 你的IP
```

### 问题2：找不到IP地址

**解决方法**：
```bash
# 在你的电脑上运行
ipconfig

# 查找 172.x.x.x 或 192.168.x.x 开头的IP
```

### 问题3：修改后仍无法连接

**检查步骤**：
1. 确认修改了正确的文件（`llmhomework_Frontend/app/config/api.ts`）
2. 确认IP格式正确（`http://IP:5000`）
3. 确认保存了文件
4. 确认重启了前端（`npm start`）
5. 清除缓存重试：
   ```bash
   # 停止前端
   # 删除缓存
   npm start -- --reset-cache
   ```

---

## 📊 配置对比表

| 情况 | 是否需要修改 | 修改位置 |
|------|------------|---------|
| 同一教室，同一网络 | ❌ 不需要（自动检测） | - |
| 自动检测失败 | ✅ 需要 | `api.ts` 第93行 |
| 不同校区 | ✅ 可能需要 | `api.ts` 第93行 |
| 使用手机测试 | ❌ 不需要 | - |

---

## 💡 最佳实践

### 1. 固定座位开发
如果你们经常在同一教室：
- 你的IP添加到配置文件最前面
- 其他同学也这样配置
- 互相可以访问对方的后端

### 2. 团队协作
如果多个同学一起开发：
- 指定一台电脑作为"服务器"
- 只在那台电脑上运行后端
- 其他人只运行前端，连接到"服务器"

### 3. 在家开发
如果在不同地方：
- 每个人运行自己的后端
- 或使用云服务器部署后端
- 配置固定的服务器地址

---

## 📞 寻求帮助

如果还是无法连接：

1. **在你的电脑上**：
   - 运行 `获取当前IP.bat`
   - 截图发给同学

2. **在同学电脑上**：
   - 在浏览器访问 `http://你的IP:5000/status`
   - 截图结果
   - 查看控制台错误信息

3. **一起检查**：
   - 确认在同一WiFi
   - 确认防火墙配置
   - 尝试ping测试连通性

---

## ✨ 总结

### 你需要做的：
1. ✅ 启动后端（`start_backends.bat`）
2. ✅ 配置防火墙（允许端口5000）
3. ✅ 告诉同学你的IP地址

### 你同学需要做的：
1. ✅ 安装依赖（`npm install`）
2. ✅ 启动前端（`npm start`）
3. ✅ 等待自动连接（99%情况自动成功）
4. ⚠️ 如果失败，手动添加你的IP到配置文件第一行

---

**就这么简单！祝你们使用愉快！🎉**

有问题随时问！

